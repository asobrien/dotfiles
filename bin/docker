#!/bin/sh
set -e

# create a machine:
# docker-machine create --driver xhyve --xhyve-uuid=7d1727e8-2303-4942-96bb-f1928df24825 default

if [[ $OSTYPE = darwin* ]]; then
docker-machine ip default &>/dev/null || (docker-machine start default; echo "DOCKER MACHINE IP: $(docker-machine ip default)")
eval $(docker-machine env default)
exec docker "$@"
fi

# otherwise just run it as is
exec docker "$@"
